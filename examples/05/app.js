var playerScore=0,cpuScore=0,rockButton=document.querySelector("#button-rock"),paperButton=document.querySelector("#button-paper"),scissorsButton=document.querySelector("#button-scissors"),playerScoreElement=document.querySelector("#player-score"),cpuScoreElement=document.querySelector("#cpu-score"),playerHandElement=document.querySelector(".game__part--player"),cpuHandElement=document.querySelector(".game__part--cpu"),playerSelection=null,cpuSelection=null,playerIsPlaying=!1,choices=["rock","paper","scissors"];function init(){reset(),bindActions()}function bindActions(){rockButton.addEventListener("click",playerSelect),paperButton.addEventListener("click",playerSelect),scissorsButton.addEventListener("click",playerSelect)}function playerSelect(){if(playerIsPlaying)return null;playerIsPlaying=!0;var e=this.getAttribute("id");playerSelection=e.replace("button-",""),document.querySelector("#player-"+playerSelection).style.opacity=1,setTimeout(cpuRandom,500)}function cpuRandom(){var e=Math.round(Math.random()*(choices.length-1));cpuSelection=choices[e],document.querySelector("#cpu-"+cpuSelection).style.opacity=1,battle()}function battle(){var e=null;switch(playerSelection){case"paper":"rock"===cpuSelection?e="player":"scissors"===cpuSelection&&(e="cpu");break;case"rock":"scissors"===cpuSelection?e="player":"paper"===cpuSelection&&(e="cpu");break;case"scissors":"paper"===cpuSelection?e="player":"rock"===cpuSelection&&(e="cpu")}"player"===e?playerScore+=1:"cpu"===e&&(cpuScore+=1),showMessage(e),updateScore(),setTimeout(reset,1100)}function reset(){for(var e=document.getElementsByClassName("picto"),c=0;c<e.length;c++)e[c].style.opacity=0;playerIsPlaying=!1}var message=document.querySelector("#game-message");function showMessage(e){message.classList.add("is-active"),"player"===e?message.querySelector(".is-win").style.display="block":"cpu"===e?message.querySelector(".is-loose").style.display="block":message.querySelector(".is-equal").style.display="block",setTimeout(hideMessage,1e3)}function hideMessage(){message.classList.remove("is-active"),setTimeout(function(){for(var e=message.getElementsByTagName("span"),c=0;c<e.length;c++)e[c].style.display="none"},300)}function updateScore(){playerScoreElement.innerText=playerScore,cpuScoreElement.innerText=cpuScore}init();